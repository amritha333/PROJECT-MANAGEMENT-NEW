{% extends "base.html" %}
{% load static %}
{% load permissions %}
{% block content %}



            <div class="content-right">
                <div class="margin-class-this">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="card card-shadow">

                                <div class="card-body body-change card-border project-detailpage">
                                    <div class="d-flex align-items-center justify-content-between">
                                        <div class="project-name">
                                            <h6>{{space_data.space_name}}</h6>
                                            <div class="checkbox checkbox-circle">
                                                <input id="checkbox7" type="checkbox">
                                                <label for="checkbox7">
                                                    {{sub_space_data.sub_space_name}}
                                                </label>
                                            </div>
                                            <p>Last changed 30/01/2023 by you</p>
                                        </div>
                                        <div class="d-flex">
                                            <div class="stage1">
                                                <ul class="demo-tags">
                                                {% for i in dynamic_status %}
                                                {% if i.status_color == "red" %}
                                            
                                                <li><a href="#" class="redd">{{i.status_name}}</a></li>

                                                {% elif i.status_color == "yellowgreen" %}
                                                
                                                <li><a href="#" class="yellw">{{i.status_name}}</a></li>

                                                {% elif i.status_color == "green" %}
                                                
                                                <li><a href="#" class="grn">{{i.status_name}}</a></li>

                                                {% elif i.status_color == "blue" %}
                                                
                                                <li><a href="#" class="blu">{{i.status_name}}</a></li>

                                                {% elif i.status_color == "darkorange" %}
                                                
                                                <li><a href="#" class="">{{i.status_name}}</a></li>

                                                {% else %}
                                                <li><a href="#" class="grn">{{i.status_name}}</a></li>
                                                {% endif %}
                                                  {% endfor %}
                                                  <!-- <li><a href="#" class="yellw">In Progress</a></li>
                                                  <li><a href="#" class="grn">Done</a></li> -->
                                                </ul>
                                            </div>
                                            <div class="d-flex">
                                                <p id="output" class="text-center"></p>
                                                <div id="controls" class="text-center">
                                       
                                                    <button type="button" class="btn btn-pink waves-effect waves-light w-md m-b-5">SAVE</button>
                                                </div>
                                            </div>
                                           
                                           
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-5 mt-3">
                                            <div class="d-flex align-items-center assign-prjct">
                                                <img src="../static/assets/images/user-avatar.png" alt="" class="add-icn">

                                                {% for m in sub_space_data.invite_user_details_id.all %}

                                                <div class="profile-image d-flex align-items-center m-2">
                                                    <img src="./media/{{m.photo}}">                                                      
                                                </div>
                                                <span>{{m.name}}</span>
                                                {% endfor %}
                                            </div>

                                            <div class="labeltag d-flex align-items-center mt-4">
                                                <img src="../static/assets/images/price-tag.png" alt="" class="label-tag">
                                                <select class="select2" multiple="multiple"  id="myList">
                                                    <option value="1">Add label</option>
                                                    {% for t in tags_name %}

                                                    <option value="">{{t.tags_name}}</option>
                                                    {% endfor %}
                                                  </select>
                                            </div>

                                            <div class="row mt-4 prjct-form">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="field-2" class="control-label">Bucket</label>
                                                        <select class="ddl-select" id="list" name="list">
                                                            <option selected value="{{sub_space_data.bucket_mapping_id.id}}">{{sub_space_data.bucket_mapping_id}}</option>

                                                                {% for b in bucket_data %}
                                                                    {% if sub_space_data.bucket_mapping_id.status_name == b.status_name %}

                                                                        {% else %}
                                                                        <option  value="{{b.id}}">{{b.status_name}}</option>
                                                                    {% endif %}
                                                                {% endfor %}

                                                            
                                                          </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="field-2" class="control-label">Progress</label>
                                                        <select class="ddl-select-1" id="list1" name="list1">
                                                           <option selected value="{{sub_space_data.progress}}">{{sub_space_data.progress}}</option>

                                                            {% for p in progress %}
                                                            
                                                            {% if sub_space_data.progress == p.0 %}
                                                            {% else %}
                                                                <option>{{p.0}}</option>
                                                            {% endif %}
                                                            {% endfor %}                                                               
                                                        </select>                                                             
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="field-2" class="control-label">Priority</label>
                                                        <select class="ddl-select-2" id="list2" name="list2">
                                                            <option selected value="{{sub_space_data.priority}}">{{sub_space_data.priority}}</option>
                                                            {% for p in priority %}
                                                        
                                                            {% if sub_space_data.priority == p.0 %}
                                                            {% else %}
                                                                <option>{{p.0}}</option>
                                                            {% endif %}
                                                            {% endfor %}
                                                                                                                         
                                                        </select>                                                             
                                                    </div>
                                                      
                                                </div>

                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="field-2"
                                                            class="control-label">Start Date</label>
                                                        <div class="input-group">
                                                            <input type="text" value="{{sub_space_data.Planning_start_date|safe}}" class="form-control datepicker"
                                                                placeholder="" id="datepicker">
                                                            <div class="input-group-append">
                                                                <span class="input-group-text"><i
                                                                        class="md md-event"></i></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="field-2"
                                                            class="control-label">Due Date</label>
                                                        <div class="input-group">
                                                            <input type="text" value="{{sub_space_data.Planning_end_date|safe}}" class="form-control datepicker"
                                                                placeholder="" id="datepicker1">
                                                            <div class="input-group-append">
                                                                <span class="input-group-text"><i
                                                                        class="md md-event"></i></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                

                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <label for="field-2" class="control-label">Notes</label>
                                                        <textarea class="form-control" rows="3" id="example-textarea-input" placeholder="Type a description or add notes here">{{sub_space_data.notes}}</textarea>                              
                                                    </div>
                                                      
                                                </div>

                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <label for="field-2" class="control-label mb-2">Checklist</label>
                                                        {% for ch in sub_space_data.sub_space_checklist.all %}
                                                        <div class="checkbox checkbox-circle ">
                                                            <input  id="checkbox7" type="checkbox">
                                                            <label for="checkbox7" >
                                                                <input disabled  type="text" value="{{ch.milestone}}" placeholder="Add an item" class="form-control checkitem">
                                                            </label>
                                                            <a class="checklist_more" style="float: right;
                                                            font-size: 20px; cursor: pointer;
                                                            font-weight: bold;">+</a>
                                                            
                                                        </div>        
                                                        {% endfor %}   
                                                        
                                                            <div class="append_add">
                                                                
                                                            </div>
                                                    </div>
                                                </div>

                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <label for="field-2" class="control-label mb-2">Attachments</label>

                                                        {% for a in sub_space_data.sub_space_attachment.all %}
                                                            {% if a.attached_file  %}

                                                        <a target="_blank" href="/media/{{a.attached_file}}" >
                                                        <div class="add-attach mt-2">
                                                           <p class="fa fa-eye">&ensp;{{a.file_name}}</p>
                                                        </div> 
                                                        </a>
                                                            {% endif %}
                                                        {% endfor %}


                                                        <div class="add-attach mt-4"  data-toggle="dropdown" aria-expanded="false">
                                                                Add attachment
                                                        </div> 
                                                        <ul class="dropdown-menu">
                                                            <li><a href="#" class="dropdown-item">From Computer</a></li>
                                                            <li><a href="#" class="dropdown-item" style="cursor: pointer;" data-toggle="modal" data-target="#url-modal">A link to a URL</a></li>
                    
                                                        </ul>                            
                                                    </div>
                                                      
                                                </div>
                                       
                                            </div>
                                            
                                        </div>

                                        <div class="col-md-7 timesheet-tab mt-3">

                                         
                                                <ul class="nav nav-tabs tabs" role="tablist" style="width: 100%;">
                                                    <li class="nav-item tab">
                                                        <a class="nav-link active" id="home-tab-2" data-toggle="tab" href="#home-2" role="tab" aria-controls="home-2" aria-selected="false">
                                                            <span class="d-block d-sm-none"><i class="fa fa-home"></i></span>
                                                            <span class="d-none d-sm-block">Task</span>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item tab">
                                                        <a class="nav-link" id="profile-tab-2" data-toggle="tab" href="#profile-2" role="tab" aria-controls="profile-2" aria-selected="true">
                                                            <span class="d-block d-sm-none"><i class="fa fa-user"></i></span>
                                                            <span class="d-none d-sm-block">Comments</span>
                                                        </a>
                                                    </li>
                                                    
                                                    
                                                </ul>
                                                <div class="tab-content">
                                                    <div class="tab-pane show active" id="home-2" role="tabpanel" aria-labelledby="home-tab-2">
                                                        <table id="datatable" class="table table-striped dt-responsive table-bordered nowrap table-padd" style="border-collapse: collapse; border-spacing: 0; width: 100%;">

                                                            <thead class="border-class">
    
                                                                <tr class="heading-text">
                                                                    <th>Task title</th>
                                                                    <th>Assigned to</th>                                                                         
                                                                    <th>Due</th>
                                                                    <th>Bucket</th>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
    
    
                                                            <tbody class="body-textcls vertcle-center">
                                                               
                                                                <tr>
                                                                    <td colspan="5" class="addlinetd">
                                                                        <a style="cursor: pointer;" data-subspace-id="{{sub_space_data.id}}" data-space-id="{{space_data.id}}"  class="addline create_task"><i class="md md-add-circle"></i> Add Task</a>
                                                                    </td>
                                                                </tr>
                                                                {% for i in task_data %}
                                                                <tr>
                                                                    <td>
    
                                                                        <div class="checkbox margin-check checkbox-primary checkbox-circle">
                                                                            <input id="checkbox-9" type="checkbox" class="padd-radio">
                                                                            <label for="checkbox-9">
                                                              
                                                                            </label>
                                                                            <p class="main-head">{{i.task_name}}</p>
                                                                        </div>
    
                                                                    </td>
                                                                    <td>
                                                                        <div class="profile-image d-flex align-items-center">
                                                                            {% for j in i.add_task_space.all %}
                                                                            <img src="./media/{{j.invite_user_details_id.photo}}">
                                                                            {% endfor %}
                                                                            <div class="circle-user">
                                                                                <i class="ion-plus"></i>5
                                                                            </div>
                                                                          
                                                                        </div>
                                                                    </td>
                                                                   
                                                                    <td>
                                                                        {% if request.user.id|due_date_check_task:i.id == True %}
                                                                        <span  class="badge badge-size badge-pill badge-danger"><i class="ion-calendar"></i>&ensp;{{i.end_date|safe}}</span>

                                                                        {% else %}
                                                                        <i class="ion-calendar"></i>&ensp;{{i.end_date|safe}}

                                                                        {% endif %}
                                                                    </td>
                                                                    <td>
                                                                        {% if i.bucket_mapping_id.status_color == "red" %}
                                                
                                                                        <span class="badge badge-size badge-pill badge-red">{{i.bucket_mapping_id}}</span>
                        
                                                                        {% elif i.bucket_mapping_id.status_color == "yellowgreen" %}
                                                                        
                                                                        <span class="badge badge-size badge-pill badge-yellow">{{i.bucket_mapping_id}}</span>
                        
                                                                        {% elif i.bucket_mapping_id.status_color == "green" %}
                                                                        
                                                                        <span class="badge badge-size badge-pill badge-green">{{i.bucket_mapping_id}}</span>
                        
                                                                        {% elif i.bucket_mapping_id.status_color == "blue" %}
                                                                        
                                                                        <span class="badge badge-size badge-pill badge-primary">{{i.bucket_mapping_id}}</span>
                        
                                                                        {% elif i.bucket_mapping_id.status_color == "darkorange" %}
                                                                        
                                                                        <span class="badge badge-size badge-pill badge-info">{{i.bucket_mapping_id}}</span>
                        
                                                                        {% else %}
                                                                             <span class="badge badge-size badge-pill badge-secondary">{{i.bucket_mapping_id}}</span>
                                                                        {% endif %}
                                                                    </td>
                                                         
                                                                    <td class="d-flex justify-content-end align-items-center text-right">

                                                                        <a href="view_task_page?task_id={{i.id}}" class="viewtasklink"><i class="fa fa-eye"></i> View Task</a>
    
                                                                        <button type="button" class="btn btn-more-data waves-effect waves-light" data-toggle="dropdown" aria-expanded="false">
                                                                            <i class="md-more-vert"></i>
                                                                    </button>
                                                                        <ul class="dropdown-menu">
                                                                            <li><a href="#" class="dropdown-item">Edit</a></li>
                                                                            <li><a href="#" class="dropdown-item">Delete</a></li>
                                                                        </ul>
    
                                                                    </td>
                                                                </tr>
                                                                
                                                               {% endfor %}
                                                    </tbody>
                                                    </table>
                                                    </div>
                                                    <div class="tab-pane" id="profile-2" role="tabpanel" aria-labelledby="profile-tab-2" style="display: none;">
                                                        <div class="row prjct-form">
                                                            <div class="col-md-12">
                                                                <div class="form-group mt-2">
                                                                    <!-- <label for="field-2" class="control-label">Comments</label> -->
                                                                    <textarea class="form-control" rows="3" id="example-textarea-input" placeholder="Type your message here"></textarea>                              
                                                                </div>
                                                                <button type="button" class="btn btn-pink waves-effect waves-light w-sm m-b-5 float-right">Send</button>
                                                            </div>

                                                            {% for c in sub_space_data.sub_space_comments.all %}
                                                            <div class="col-md-12 comment-sec">
                                                                <div class="d-flex align-items-center">
                                                                    <div class="col px-0 pro-detail">
                                                                        <img src="./media/{{c.added_by.photo}}" alt=""style="border-radius: 5%;
                                                                        width: 8%;" class="avatar lg rounded-circle">&ensp;
                                                                       {{c.added_by.name}}
                                                                    </div>
                                                                    <div class="col px-0">
                                                                        <span>{{c.created_dt}} {{c.created_tm}}</span>
                                                                    </div>
                                                                </div>
                                                                <p>{{c.comments}}</p>
                                                            </div>
                                                            {% endfor %}


                                                          

                                                        </div>
                                                    </div>
                                                    <div class="tab-pane" id="message-2" role="tabpanel" aria-labelledby="message-tab-2" style="display: none;">
                                                        <table id="datatable" class="table dt-responsive table-bordered nowrap table-padd time-sheet" style="border-collapse: collapse; border-spacing: 0; width: 100%;">

                                                            <thead class="border-class">
    
                                                                <tr class="heading-text">
                                                                    <th>Date</th>
                                                                    <th>Employee</th>
                                                                    <th>Description</th>
                                                                    <th>Hour Spent</th>                                                           
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
    
    
                                                            <tbody class="body-textcls vertcle-center">
                                                                <tr>
                                                                    <td>01/12/2023</td>
                                                                    <td>
                                                                        <div class="profile-image d-flex align-items-center">
                                                                           
                                                                            <img src="assets/images/users/avatar-4.jpg">
                                                                               <span>Jhone Jacson</span> 
                                                                        </div>
                                                                    </td>
                                                                    <td>Requirment Analysis</td>
                                                                    <td>01:00</td>                                                               
                                                                    <td><i class="fa-regular fa-trash-can"></i></td>
                                                                </tr>
                                                                <tr>
                                                                    <td>01/12/2023</td>
                                                                    <td>
                                                                        <div class="profile-image d-flex align-items-center">
                                                                           
                                                                            <img src="assets/images/users/avatar-4.jpg">
                                                                               <span>Jhone Jacson</span> 
                                                                        </div>
                                                                    </td>
                                                                    <td>Requirment Analysis</td>
                                                                    <td>01:00</td>                                                               
                                                                    <td><i class="fa-regular fa-trash-can"></i></td>
                                                                </tr>
                                                                <tr>
                                                                    <td>01/12/2023</td>
                                                                    <td>
                                                                        <div class="profile-image d-flex align-items-center">
                                                                           
                                                                            <img src="assets/images/users/avatar-4.jpg">
                                                                               <span>Jhone Jacson</span> 
                                                                        </div>
                                                                    </td>
                                                                    <td>Requirment Analysis</td>
                                                                    <td>01:00</td>                                                               
                                                                    <td><i class="fa-regular fa-trash-can"></i></td>
                                                                </tr>
                                                                <tr>
                                                                    <td>01/12/2023</td>
                                                                    <td>
                                                                        <div class="profile-image d-flex align-items-center">
                                                                           
                                                                            <img src="assets/images/users/avatar-4.jpg">
                                                                               <span>Jhone Jacson</span> 
                                                                        </div>
                                                                    </td>
                                                                    <td>Requirment Analysis</td>
                                                                    <td>01:00</td>                                                               
                                                                    <td><i class="fa-regular fa-trash-can"></i></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                        <div class="d-flex hours-spent">
                                                            <div class="col-md-6 t-hr">
                                                                <h5>Total hours spent : <span>48:30</span></h5>
                                                            </div>
                                                            <div class="col-md-6 r-hr text-right">
                                                                <h5>Remaining hours : <span>08:30</span></h5>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<form name="task_form" class="task_class" method="POST" action="task_management_action" enctype="multipart/form-data">
    {% csrf_token %} 

<div id="new_task_create" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none">
    <div class="modal-dialog  modal-lg"> 
        <div class="modal-content"> 
            <div class="modal-header">
                <h4 class="modal-title mt-0" style="color: #f9365f;
                font-weight: bold;">Create New Task</h4> 
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div> 
            <div class="modal-body"> 
                <input type="hidden" id="sub_space_id1" name="sub_space_id">
                <input type="hidden" id="space_id1" name="space_id">
                <div class="row"> 
                    <div class="col-md-6"> 
                        <div class="form-group"> 
                            <label for="field-1" class="control-label">Task Name</label> 
                            <input type="text" required name="task_name" class="form-control" id="field-1" placeholder="Task Name"> 
                        </div> 
                    </div> 
                  
                    <div class="col-md-6"> 
                        <div class="form-group"> 
                            <label for="field-2" class="control-label">Bucket</label> 
                            <div id="bucket_append">
                                <select class="form-control" name="bucket">
                                    {% for b in bucket_data %}
                                    <option  value="{{b.id}}">{{b.status_name}}</option>
                                    {% endfor %}
                                 </select>
                            </div>
                        </div> 
                    </div> 
                    <div class="col-md-6"> 
                        <div class="form-group"> 
                            <label for="field-2" class="control-label">Progress</label> 
                            <select class="form-control" name="progress">
                                <option value="Not Started" selected="">Not Started</option>
                                <option value="In progress">In progress</option>
                                <option value="Completed">Completed</option>
                            </select>
                        </div> 
                    </div> 

                    <div class="col-md-6"> 
                        <div class="form-group"> 
                            <label for="field-2" class="control-label">Priority</label> 
                         <select class="form-control"  name="priority">
                            <option value="Urgent" selected="">Urgent</option>
                            <option value="Important">Important</option>
                            <option value="Medium">Medium</option>
                            <option value="Low">Low</option>
                         </select>
                        </div> 
                    </div> 

                    <div class="col-md-6"> 
                        <div class="form-group"> 
                            <label for="field-2" class="control-label"> Start date</label> 
                            <input type="date" name="start_date" value="{{today_date|safe}}" min="{{today_date}}" class="form-control">
                        </div> 
                    </div> 
                    <div class="col-md-6"> 
                        <div class="form-group"> 
                            <label for="field-2" class="control-label"> End date</label> 
                         <input type="date" required  min="{{today_date}}" name="end_date" class="form-control">
                        </div> 
                    </div> 
                    <div class="col-md-12"> 
                        <div class="form-group"> 
                            <label for="field-2" class="control-label">Checklist</label>

                            <a id="add_checklist" style="float: right;
                            font-size: 18px; cursor: pointer;
                            font-weight: bold;">+</a>

                            <input type="text" name="checklist" class="form-control">

                            <div class="" id="new_checklist" style="display:none;">
                                <div class="checklist_add">
                                    <input class="form-control mt-2" type="text" name="checklist"> 
                                </div>
                                <a href="#" class="add_check_list" style="text-decoration: none;"><i class="fa fa-plus">Add</i></a>
                            </div>
                        </div> 
                    </div>

                    <div class="col-md-12"> 
                        <div class="form-group"> 
                            <label for="field-2" class="control-label">Attachments </label> 
                            <!-- <a id="add_attachment" style="float: right;
                            font-size: 18px; cursor: pointer;
                            font-weight: bold;">+</a> -->
                            <input type="file" multiple name="attached_file" class="form-control">

                            <div class="" id="new_attachment" style="display:none;">
                                <div class="attachment_add">
                                    <input class="form-control mt-2"  multiple   type="file" name="attached_file1"> 
                                </div>
                                <a href="#" class="add_attach" style="text-decoration: none;"><i class="fa fa-plus">Add</i></a>
                            </div>

                        </div> 
                    </div> 

                    <div class="col-md-12"> 
                        <div class="form-group"> 
                            <label for="field-2" class="control-label">Comments</label> 
                         <input type="text" name="comments" class="form-control">
                        </div> 
                    </div> 
                 
                    <div class="col-md-12"> 
                        <div class="form-group"> 
                            <label for="field-2" class="control-label">Note</label> 
                         <input type="text" name="notes" class="form-control">
                        </div> 
                    </div> 


                    <div class="col-md-12"> 
                        <div class="form-group"> 
                            <label for="field-2" class="control-label">Assignees</label> 
                            <select required multiple class="form-control jsSelect1" name="member_checkbox">
                                <option value="1">select</option>
                                {% for i in sub_space_member_data.invite_user_details_id.all %}
                                <option value="{{i.id}}"> {{i.name}}</option>
                                {% endfor %}
                             </select>                        
                        </div> 
                    </div> 




                   
                    <!-- <div class="img-group mx-2" style="float: right;">
                        <a  data-toggle="modal" data-target="#task_employee">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-plus topbar-icon invt"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg></a>
                           
                            <div style="color: red; display:none ;" id="message"></div>
                    
                        </div> -->
                </div> 
            </div> 
            <div class="modal-footer"> 
                <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal">Close</button> 
                <button type="submit" style="background-color:#f9365f!important;border: none!important;" class="btn btn-info waves-effect waves-light">Save</button> 
            </div> 
        </div> 
    </div>
</div><!-- /.modal -->

<div id="task_employee" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none">
    <div class="modal-dialog"> 
        <div class="modal-content"> 
            <div class="modal-header">
                <h4 class="modal-title mt-0" style="color: #f9365f;
                font-weight: bold;">Employee Invitation</h4> 
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div> 
            <div class="modal-body"> 
                <div class="row"> 
                    <div class="col-md-12"> 
                        <div class="form-group"> 
                           <div class="row">

                            {% for i in sub_space_member_data.invite_user_details_id.all %}
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-4">
                                        <img style="border-radius: 50%;
                                        width: 45%;" class="avatar lg rounded-circle" src="./media/{{i.photo}}">  
                                    </div>
                                   <div class="col-md-4" style="margin: 22px -52px;
                                   font-size: 12px;">
                                    <input name="member_checkbox1" class="member_data"  value="{{i.id}}" type="checkbox">&nbsp;&nbsp;
                                        {{i.name}}
                                   </div>
                                </div>
                              
                            </div>
                            {% endfor %}

                           </div>
                        </div> 
                    </div> 
                   
                    </div> 
                </div> 
            </div> 
            <!-- <div class="modal-footer"> 
                <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal">Close</button> 
                <button type="button" style="background-color:#f9365f!important;border: none!important;" class="btn btn-info waves-effect waves-light">Save </button> 
            </div>  -->
        </div> 
</div>
</form>












{% block scripts %}

<script>
    var colors = ["red", "blue", "green", "orange", "yellow"];

    $(document).ready(function () {
        var checkList = [1];
        $("#myList").select2({
            width: "100%",
            templateSelection: function (data, container) {
                var selection = $('#myList').select2('data');
                var idx = selection.indexOf(data);
                console.log(">>Selection", data.text, data.idx, idx);
                data.idx = idx;

                // $(container).css("background-color", colors[data.idx]);
                return data.text;
            },
        }).val(checkList).trigger("change");

    })
</script>

<script>
    $(function () {
        $(".ddl-select, .ddl-select-1, .ddl-select-2, .ddl-select-3").each(function () {
            $(this).hide();
            var $select = $(this);
            var _id = $(this).attr("id");
            var wrapper = document.createElement("div");
            wrapper.setAttribute("class", "ddl ddl_" + _id);

            var input = document.createElement("input");
            input.setAttribute("type", "text");
            input.setAttribute("class", "ddl-input");
            input.setAttribute("id", "ddl_" + _id);
            input.setAttribute("readonly", "readonly");
            input.setAttribute(
                "placeholder",
                $(this)[0].options[$(this)[0].selectedIndex].innerText
            );

            $(this).before(wrapper);
            var $ddl = $(".ddl_" + _id);
            $ddl.append(input);
            $ddl.append("<div class='ddl-options ddl-options-" + _id + "'></div>");
            var $ddl_input = $("#ddl_" + _id);
            var $ops_list = $(".ddl-options-" + _id);
            var $ops = $(this)[0].options;
            for (var i = 0; i < $ops.length; i++) {
                $ops_list.append(
                    "<div data-value='" +
                    $ops[i].value +
                    "'>" +
                    $ops[i].innerText +
                    "</div>"
                );
            }

            $ddl_input.click(function () {
                $ddl.toggleClass("active");
            });
            $ddl_input.blur(function () {
                $ddl.removeClass("active");
            });
            $ops_list.find("div").click(function () {
                $select.val($(this).data("value")).trigger("change");
                $ddl_input.val($(this).text());
                $ddl.removeClass("active");
            });
        });
    });
</script>

<script>
jQuery(document).ready(function() {

    // Tags Input
    jQuery('#tags').tagsInput({
        width: 'auto'
    });

    // Time Picker
    jQuery('#timepicker').timepicker({
        defaultTIme: false
    });
    jQuery('#timepicker2').timepicker({
        showMeridian: false
    });
    jQuery('#timepicker3').timepicker({
        minuteStep: 15
    });

    // Date Picker
    jQuery('.datepicker').datepicker();
    jQuery('#datepicker-inline').datepicker();
    jQuery('#datepicker-multiple').datepicker({
        numberOfMonths: 3,
        showButtonPanel: true
    });
   
});
</script>
<script>
var time = 0;
var running = 0;

function startPause() {
if (running == 0) {
    running = 1;
    increment();
    document.getElementById("startPause").innerHTML = "STOP";
} else {
    running = 0;
    document.getElementById("startPause").innerHTML = "START";
}
}

function reset(){
running = 0;
time = 0;
document.getElementById("startPause").innerHTML = "START";
document.getElementById("output").innerHTML = "00:00:00";
}

function increment() {
if (running == 1) {
    setTimeout(function() {
        time++;
        var mins = Math.floor(time/10/60);
        var secs = Math.floor(time/10 % 60);
        var tenths = time % 10;
        if (mins < 10) {
          mins = "0" + mins;
        } 
        if (secs < 10) {
          secs = "0" + secs;
        }
        document.getElementById("output").innerHTML = mins + ":" + secs + ":" + "0" + tenths;
        increment();
    },100);
}
}
</script>


<script>
    $(document).ready(function() {
              $('.jsSelect1').select2({
            placeholder: 'Select an option'
        });
           
    });


    var colors = ['#2b314e;', '#f89a4d;', '#129556'];
    $('.t_status').each(function(){
       
            var randomColor = Math.floor(Math.random() * colors.length)
            $(this).css('background-color', colors[randomColor])
    })


</script>


<script>
    $(".create_task").click(function(){
    var sub_space_id = $(this).attr("data-subspace-id")
    var space_id = $(this).attr("data-space-id")
    $("#sub_space_id1").val(sub_space_id)
    $("#space_id1").val(space_id)
    $("#new_task_create").modal("show")
    $.ajax(
    {
        type:"GET",
        url: "get_bucket_details",
        data:{
            space_id: space_id
        },
        success: function( data ) 
        {
            $("#bucket_append").empty().append(data)
        }
     });
    })
</script>


<script>
    $("#add_checklist").click(function(){
       
        $("#new_checklist").show()
        $("#add_checklist").hide()
    })
   
    $(".add_check_list").click(function(){
        
        $('.checklist_add').append('<input class="form-control mt-2" type="text" name="checklist">');
        
    })
    </script>

    <script>
        $(".checklist_more").click(function(){
        $('.append_add').append(` <div class="checkbox checkbox-circle mt-2" ><input  id="checkbox73" type="checkbox"><label for="checkbox73"><input  type="text" placeholder="Add an item" class="form-control checkitem"></label></div>`);
        
    })
    </script>



{% endblock %}

{% endblock %}



